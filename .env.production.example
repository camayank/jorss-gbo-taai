# =============================================================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# =============================================================================
#
# SECURITY WARNING: Never commit actual secrets to version control!
# Copy this file to .env.production and fill in real values.
#
# Generate secrets with: python -c "import secrets; print(secrets.token_hex(32))"
# =============================================================================

# -----------------------------------------------------------------------------
# REQUIRED SECURITY SETTINGS (App will not start without these in production)
# -----------------------------------------------------------------------------

# Application environment - MUST be "production" or "staging" for production mode
APP_ENVIRONMENT=production

# Main application secret key (min 32 characters)
# Used for session signing, CSRF tokens, etc.
APP_SECRET_KEY=REPLACE_WITH_64_CHAR_HEX_STRING

# JWT signing key (min 32 characters)
# Used for authentication tokens
JWT_SECRET=REPLACE_WITH_64_CHAR_HEX_STRING

# Auth service secret (min 32 characters)
# Used for internal auth operations
AUTH_SECRET_KEY=REPLACE_WITH_64_CHAR_HEX_STRING

# Password hashing salt (min 16 characters)
# Used for password hashing - changing this invalidates all passwords!
PASSWORD_SALT=REPLACE_WITH_32_CHAR_HEX_STRING

# PII encryption master key (min 32 characters)
# Used for encrypting email, phone, SSN in database
# CRITICAL: Losing this key = losing access to encrypted data!
ENCRYPTION_MASTER_KEY=REPLACE_WITH_64_CHAR_HEX_STRING

# CSRF protection secret (min 32 characters)
# Used for CSRF token generation and validation
CSRF_SECRET_KEY=REPLACE_WITH_64_CHAR_HEX_STRING

# SSN hashing secret (min 32 characters)
# Used for HMAC-SHA256 hashing of SSNs
SSN_HASH_SECRET=REPLACE_WITH_64_CHAR_HEX_STRING

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# -----------------------------------------------------------------------------

# PostgreSQL connection (recommended for production)
DATABASE_URL=postgresql://user:password@localhost:5432/taxplatform

# Connection pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# -----------------------------------------------------------------------------
# REDIS CONFIGURATION
# -----------------------------------------------------------------------------

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password
REDIS_SSL=false
REDIS_DB=0

# -----------------------------------------------------------------------------
# APPLICATION SETTINGS
# -----------------------------------------------------------------------------

# Application info
APP_NAME=Tax Platform
APP_VERSION=1.0.0
APP_DEBUG=false

# API settings
APP_API_HOST=0.0.0.0
APP_API_PORT=8000
APP_API_WORKERS=4

# HTTPS enforcement (should be true in production)
APP_ENFORCE_HTTPS=true

# Rate limiting
APP_ENABLE_RATE_LIMITING=true

# CORS origins (comma-separated list of allowed origins)
APP_CORS_ORIGINS=["https://yourdomain.com","https://www.yourdomain.com"]

# OpenAI API key (required for AI filing/advisory features)
OPENAI_API_KEY=REPLACE_WITH_OPENAI_API_KEY

# -----------------------------------------------------------------------------
# EMAIL CONFIGURATION (for notifications)
# -----------------------------------------------------------------------------

SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=your_sendgrid_api_key
SMTP_FROM_EMAIL=noreply@yourdomain.com
SMTP_FROM_NAME=Tax Platform

# -----------------------------------------------------------------------------
# CELERY CONFIGURATION (background tasks)
# -----------------------------------------------------------------------------

CELERY_BROKER_DB=1
CELERY_RESULT_DB=2

# -----------------------------------------------------------------------------
# MONITORING & LOGGING
# -----------------------------------------------------------------------------

# Sentry DSN for error tracking
SENTRY_DSN=https://your_sentry_dsn

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# FEATURE FLAGS
# -----------------------------------------------------------------------------

APP_ENABLE_CACHING=true
APP_ENABLE_BACKGROUND_TASKS=true
APP_ENABLE_DUAL_WRITE=false

# -----------------------------------------------------------------------------
# TAX CONFIGURATION
# -----------------------------------------------------------------------------

APP_DEFAULT_TAX_YEAR=2025

# =============================================================================
# SETUP INSTRUCTIONS
# =============================================================================
#
# 1. Copy this file to .env.production:
#    cp .env.production.example .env.production
#
# 2. Generate all required secrets:
#    python -c "import secrets; print('APP_SECRET_KEY=' + secrets.token_hex(32))"
#    python -c "import secrets; print('JWT_SECRET=' + secrets.token_hex(32))"
#    python -c "import secrets; print('AUTH_SECRET_KEY=' + secrets.token_hex(32))"
#    python -c "import secrets; print('PASSWORD_SALT=' + secrets.token_hex(16))"
#    python -c "import secrets; print('ENCRYPTION_MASTER_KEY=' + secrets.token_hex(32))"
#    python -c "import secrets; print('CSRF_SECRET_KEY=' + secrets.token_hex(32))"
#    python -c "import secrets; print('SSN_HASH_SECRET=' + secrets.token_hex(32))"
#
# 3. Fill in database and Redis credentials
#
# 4. Set up email provider (SendGrid, Mailgun, etc.)
#
# 5. Configure Sentry for error tracking
#
# 6. Test startup:
#    APP_ENVIRONMENT=production python -c "from src.config.settings import get_validated_settings; get_validated_settings()"
#
# =============================================================================
