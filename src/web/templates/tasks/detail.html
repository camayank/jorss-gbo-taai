<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Detail | JORSS-GBO</title>
    <link rel="stylesheet" href="/static/css/core/variables.css">
    <link rel="stylesheet" href="/static/css/core/reset.css">
    <link rel="stylesheet" href="/static/css/core/typography.css">
    <link rel="stylesheet" href="/static/css/unified-theme.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: var(--font-sans); background: var(--color-gray-50); min-height: 100vh; }

        .page-header {
            background: white;
            border-bottom: 1px solid var(--color-gray-200);
            padding: var(--space-4) var(--space-6);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .back-link {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            color: var(--color-gray-600);
            text-decoration: none;
            font-size: var(--text-sm);
        }
        .back-link:hover { color: var(--color-primary-600); }
        .back-link svg { width: 18px; height: 18px; }

        .header-actions { display: flex; gap: var(--space-2); }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-2) var(--space-4);
            border-radius: var(--radius-lg);
            font-size: var(--text-sm);
            font-weight: var(--font-medium);
            cursor: pointer;
            border: none;
        }
        .btn svg { width: 18px; height: 18px; }
        .btn-primary { background: var(--color-primary-600); color: white; }
        .btn-secondary { background: white; color: var(--color-gray-700); border: 1px solid var(--color-gray-300); }
        .btn-success { background: var(--color-success-600); color: white; }
        .btn-danger { background: white; color: var(--color-error-600); border: 1px solid var(--color-error-300); }

        .main-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: var(--space-6);
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: var(--space-6);
        }

        .task-main {
            background: white;
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-sm);
            padding: var(--space-6);
        }

        .task-header { margin-bottom: var(--space-6); }

        .task-title-input {
            width: 100%;
            font-size: var(--text-2xl);
            font-weight: var(--font-bold);
            color: var(--color-gray-900);
            border: none;
            outline: none;
            padding: var(--space-2) 0;
        }

        .task-title-input:focus {
            border-bottom: 2px solid var(--color-primary-500);
        }

        .task-meta {
            display: flex;
            gap: var(--space-4);
            flex-wrap: wrap;
            margin-top: var(--space-3);
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            font-size: var(--text-sm);
            color: var(--color-gray-500);
        }

        .meta-item svg { width: 16px; height: 16px; }

        .section-title {
            font-size: var(--text-base);
            font-weight: var(--font-semibold);
            color: var(--color-gray-900);
            margin-bottom: var(--space-3);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .section-title svg { width: 18px; height: 18px; color: var(--color-gray-400); }

        /* Description */
        .description-editor {
            width: 100%;
            min-height: 120px;
            padding: var(--space-3);
            border: 1px solid var(--color-gray-300);
            border-radius: var(--radius-lg);
            font-size: var(--text-sm);
            resize: vertical;
        }

        .description-editor:focus {
            outline: none;
            border-color: var(--color-primary-500);
        }

        /* Checklist */
        .checklist { margin-bottom: var(--space-6); }

        .checklist-progress {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            margin-bottom: var(--space-3);
        }

        .progress-bar {
            flex: 1;
            height: 6px;
            background: var(--color-gray-200);
            border-radius: var(--radius-full);
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--color-success-500);
            transition: width var(--transition-normal);
        }

        .progress-text {
            font-size: var(--text-xs);
            color: var(--color-gray-500);
            min-width: 40px;
        }

        .checklist-items { display: flex; flex-direction: column; gap: var(--space-2); }

        .checklist-item {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-2);
            border-radius: var(--radius-md);
        }

        .checklist-item:hover { background: var(--color-gray-50); }

        .checklist-checkbox {
            width: 18px;
            height: 18px;
            accent-color: var(--color-success-600);
        }

        .checklist-text {
            flex: 1;
            font-size: var(--text-sm);
        }

        .checklist-text.completed { text-decoration: line-through; color: var(--color-gray-400); }

        .delete-item {
            width: 24px;
            height: 24px;
            border: none;
            background: transparent;
            cursor: pointer;
            color: var(--color-gray-400);
            opacity: 0;
        }

        .checklist-item:hover .delete-item { opacity: 1; }
        .delete-item:hover { color: var(--color-error-500); }
        .delete-item svg { width: 16px; height: 16px; }

        .add-checklist-item {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-2);
            color: var(--color-gray-500);
            font-size: var(--text-sm);
            cursor: pointer;
            border-radius: var(--radius-md);
        }

        .add-checklist-item:hover { background: var(--color-gray-50); color: var(--color-primary-600); }
        .add-checklist-item svg { width: 16px; height: 16px; }

        /* Comments */
        .comments { margin-top: var(--space-6); }

        .comment-input-wrapper {
            display: flex;
            gap: var(--space-3);
            margin-bottom: var(--space-4);
        }

        .comment-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: var(--color-primary-100);
            color: var(--color-primary-700);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--text-sm);
            font-weight: var(--font-semibold);
            flex-shrink: 0;
        }

        .comment-input {
            flex: 1;
            padding: var(--space-3);
            border: 1px solid var(--color-gray-300);
            border-radius: var(--radius-lg);
            font-size: var(--text-sm);
            resize: none;
        }

        .comment-input:focus { outline: none; border-color: var(--color-primary-500); }

        .comment-list { display: flex; flex-direction: column; gap: var(--space-4); }

        .comment {
            display: flex;
            gap: var(--space-3);
        }

        .comment-content { flex: 1; }

        .comment-header {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            margin-bottom: var(--space-1);
        }

        .comment-author { font-weight: var(--font-medium); font-size: var(--text-sm); }
        .comment-time { font-size: var(--text-xs); color: var(--color-gray-500); }
        .comment-text { font-size: var(--text-sm); color: var(--color-gray-700); line-height: 1.5; }

        /* Sidebar */
        .task-sidebar { display: flex; flex-direction: column; gap: var(--space-4); }

        .sidebar-card {
            background: white;
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-sm);
            padding: var(--space-4);
        }

        .sidebar-field { margin-bottom: var(--space-4); }
        .sidebar-field:last-child { margin-bottom: 0; }

        .field-label {
            font-size: var(--text-xs);
            font-weight: var(--font-semibold);
            color: var(--color-gray-500);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: var(--space-2);
        }

        .field-select, .field-input {
            width: 100%;
            padding: var(--space-2) var(--space-3);
            border: 1px solid var(--color-gray-300);
            border-radius: var(--radius-lg);
            font-size: var(--text-sm);
        }

        .field-select:focus, .field-input:focus {
            outline: none;
            border-color: var(--color-primary-500);
        }

        .assignee-selector {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-2);
            border: 1px solid var(--color-gray-300);
            border-radius: var(--radius-lg);
            cursor: pointer;
        }

        .assignee-selector:hover { border-color: var(--color-primary-500); }

        /* Client Link */
        .client-link {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-3);
            background: var(--color-gray-50);
            border-radius: var(--radius-lg);
            text-decoration: none;
        }

        .client-link:hover { background: var(--color-gray-100); }

        .client-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--color-primary-100);
            color: var(--color-primary-700);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: var(--font-semibold);
        }

        .client-name { font-weight: var(--font-medium); color: var(--color-gray-900); }
        .client-email { font-size: var(--text-xs); color: var(--color-gray-500); }

        /* Activity */
        .activity-list { display: flex; flex-direction: column; gap: var(--space-3); }

        .activity-item {
            display: flex;
            gap: var(--space-2);
            font-size: var(--text-xs);
            color: var(--color-gray-500);
        }

        .activity-item strong { color: var(--color-gray-700); }

        @media (max-width: 1024px) {
            .main-content { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <header class="page-header">
        <div class="header-content">
            <a href="/tasks/list" class="back-link">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
                </svg>
                Back to Tasks
            </a>
            <div class="header-actions">
                <button class="btn btn-danger">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                    </svg>
                    Delete
                </button>
                <button class="btn btn-success">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                    Mark Complete
                </button>
            </div>
        </div>
    </header>

    <main class="main-content">
        <div class="task-main">
            <div class="task-header">
                <input type="text" class="task-title-input" value="Complete W-2 review for Smith family">
                <div class="task-meta">
                    <div class="meta-item">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        Created Jan 20, 2025
                    </div>
                    <div class="meta-item">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"/>
                        </svg>
                        Last updated 2 hours ago
                    </div>
                </div>
            </div>

            <!-- Description -->
            <div class="description">
                <h3 class="section-title">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7"/>
                    </svg>
                    Description
                </h3>
                <textarea class="description-editor" placeholder="Add a description...">Review all W-2 forms submitted by the Smith family for accuracy. Verify employer information, wages, and withholding amounts match their records.

Key items to verify:
- Employer EIN numbers
- Total wages reported
- Federal and state withholding
- Social Security and Medicare taxes</textarea>
            </div>

            <!-- Checklist -->
            <div class="checklist">
                <h3 class="section-title">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
                    </svg>
                    Checklist
                </h3>
                <div class="checklist-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 60%;"></div>
                    </div>
                    <span class="progress-text">3/5</span>
                </div>
                <div class="checklist-items">
                    <div class="checklist-item">
                        <input type="checkbox" class="checklist-checkbox" checked>
                        <span class="checklist-text completed">Verify primary W-2 from ACME Corp</span>
                        <button class="delete-item"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg></button>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" class="checklist-checkbox" checked>
                        <span class="checklist-text completed">Verify spouse W-2 from Tech Solutions</span>
                        <button class="delete-item"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg></button>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" class="checklist-checkbox" checked>
                        <span class="checklist-text completed">Cross-check with paystubs</span>
                        <button class="delete-item"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg></button>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" class="checklist-checkbox">
                        <span class="checklist-text">Verify state withholding amounts</span>
                        <button class="delete-item"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg></button>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" class="checklist-checkbox">
                        <span class="checklist-text">Document any discrepancies found</span>
                        <button class="delete-item"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg></button>
                    </div>
                </div>
                <div class="add-checklist-item">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                    </svg>
                    Add item
                </div>
            </div>

            <!-- Comments -->
            <div class="comments">
                <h3 class="section-title">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                    </svg>
                    Comments
                </h3>
                <div class="comment-input-wrapper">
                    <div class="comment-avatar">JD</div>
                    <textarea class="comment-input" placeholder="Add a comment..." rows="2"></textarea>
                </div>
                <div class="comment-list">
                    <div class="comment">
                        <div class="comment-avatar">MS</div>
                        <div class="comment-content">
                            <div class="comment-header">
                                <span class="comment-author">Mike Smith</span>
                                <span class="comment-time">2 hours ago</span>
                            </div>
                            <div class="comment-text">Found a small discrepancy in the federal withholding - it's $50 less than what's on the final paystub. Might need to request a corrected W-2.</div>
                        </div>
                    </div>
                    <div class="comment">
                        <div class="comment-avatar">JD</div>
                        <div class="comment-content">
                            <div class="comment-header">
                                <span class="comment-author">Jane Doe</span>
                                <span class="comment-time">1 hour ago</span>
                            </div>
                            <div class="comment-text">Good catch! I'll reach out to the client to clarify before we proceed.</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <aside class="task-sidebar">
            <div class="sidebar-card">
                <div class="sidebar-field">
                    <div class="field-label">Status</div>
                    <select class="field-select">
                        <option value="pending">Pending</option>
                        <option value="in-progress" selected>In Progress</option>
                        <option value="review">In Review</option>
                        <option value="completed">Completed</option>
                        <option value="blocked">Blocked</option>
                    </select>
                </div>
                <div class="sidebar-field">
                    <div class="field-label">Priority</div>
                    <select class="field-select">
                        <option value="low">Low</option>
                        <option value="normal">Normal</option>
                        <option value="high">High</option>
                        <option value="urgent" selected>Urgent</option>
                    </select>
                </div>
                <div class="sidebar-field">
                    <div class="field-label">Assignee</div>
                    <div class="assignee-selector">
                        <div class="comment-avatar" style="width: 28px; height: 28px; font-size: 11px;">JD</div>
                        <span style="font-size: 14px;">Jane Doe</span>
                    </div>
                </div>
                <div class="sidebar-field">
                    <div class="field-label">Due Date</div>
                    <input type="date" class="field-input" value="2025-01-25">
                </div>
                <div class="sidebar-field">
                    <div class="field-label">Estimated Time</div>
                    <input type="text" class="field-input" value="2 hours" placeholder="e.g., 2 hours">
                </div>
            </div>

            <div class="sidebar-card">
                <div class="field-label">Linked Client</div>
                <a href="#" class="client-link">
                    <div class="client-avatar">JS</div>
                    <div>
                        <div class="client-name">John Smith</div>
                        <div class="client-email">john.smith@email.com</div>
                    </div>
                </a>
            </div>

            <div class="sidebar-card">
                <div class="field-label">Activity</div>
                <div class="activity-list">
                    <div class="activity-item">
                        <strong>Jane Doe</strong> changed status to In Progress - 3h ago
                    </div>
                    <div class="activity-item">
                        <strong>Mike Smith</strong> added a comment - 2h ago
                    </div>
                    <div class="activity-item">
                        <strong>Jane Doe</strong> completed checklist item - 1h ago
                    </div>
                </div>
            </div>
        </aside>
    </main>
</body>
</html>
