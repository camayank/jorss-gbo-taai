Tax Platform Database Migrations

This directory contains Alembic migrations for the tax platform database.

Usage:
------

# Generate a new migration (autogenerate from model changes)
alembic revision --autogenerate -m "description of changes"

# Apply all pending migrations
alembic upgrade head

# Rollback one migration
alembic downgrade -1

# Rollback to specific revision
alembic downgrade <revision_id>

# View current revision
alembic current

# View migration history
alembic history

# Generate SQL script without applying (offline mode)
alembic upgrade head --sql > migration.sql

Environment Variables:
---------------------
DATABASE_DRIVER=postgresql+asyncpg
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USER=tax_user
DATABASE_PASSWORD=<your-secure-password>  # Set a secure password - never commit real credentials
DATABASE_NAME=tax_platform

IMPORTANT: Never commit real credentials to version control.
Use environment variables or a secrets manager in production.

Notes:
------
- Always review autogenerated migrations before applying
- Test migrations on a copy of production data before deploying
- Keep migrations small and focused
- Never edit applied migrations - create new ones instead
